---
Desicprit: 这个文件是关于计算机网络体系结构与参考模型的介绍。
---
# 1.2.1计算机网络分层结构
1. 网络体系结构是从**功能**上描述计算机网络结构
2. 计算机网络体系结构件层网络体系结构是**分层结构**
3. 每层遵循某个/些**网络协议**以完成本层功能
4. **计算机网络体系结构**是计算机网络的**个层及其协议**的集合
5. 第n层在向n+1层提供服务时，此服务不仅包含第n层本身的功能，还包含由下层服务提供的功能
6. 仅仅**相邻层间由接口**，且所提供服务的具体实现细节对上一层完全屏蔽
7. 体系结构是**抽象**的，而实现是指能运行的一些软件和硬件。

## 原因
发送文件前要完成的工作：
1. 发起通信的计算机必须将数据通信的通路进行**激活**
2. 要告诉网络如何识别目的主机
3. 发起通信的计算机要查明目的主机是否开机开机，并且与网络连接正常
4. 发起通信的计算机要弄清楚弄清楚，对方计算机中文件管理程序是否已经做好准备工作
5. 确保差错和意外可以解决
6. ...
## 如何分层
### 一些名词
1. 实体：第n层中的活动元素称为**n层实体**，同一层的实体叫**对等实体**。
2. 协议：为进行网络中的**对等实体**数据交换而建立的规则、标准或约定称为网络协议。【水平】
  1. 语法：规定传输数据的格式
  2. 语义：规定所要完成的功能
  3. 同步：规定各种操作的顺序
3. 接口（访问服务点SAP）：上层使用下层服务的入口
4. 服务：下层为相邻上层提供的功能调用。【垂直】
   - 请求（Request）由服务用户发往服务提供者，请求完成某项工作。
   - 指示（Indcation）由服务提供者发往服务用户，知识用户做某件事情。
   - 响应（Response）由服务用户发往服务提供者，作为对指示的响应。
   - 证实（Confirmation）由服务提供者发往服务提供者，作为对请求对证实。
#### PDU
1. 服务数据单元（SDU）:为完成用户所要求的功能面而应传送的数据
2. 协议控制信息（PCI）：控制协议操作的信息
3. 协议数据单元（PDU）：对等层次之间传送数据单位
### 分层的基本原则
1. 各层之间相互**独立**，每层只实现一种相对独立的功能。
2. 每层之间**洁面自然清晰**，易于理解，相互交流尽可能的少。
3. 结构上可分割开，每层都采用**最合适的技术**来实现。
4. 保持**下层**对**上层**的独立性，*下层单项使用下层提供的服务*。
5. 整个分层结构应该能存进标准化工作。
# 1.2.2计算机网络协议、接口、服务的概念
## ISO/OSI参考模型—————怎么来的
为了解决计算机网络复杂的大问题————>分层结构（按**功能**）  
目的：支持**异构网络系统**的互联互通。  
国际标准化组织（ISO）于1984年提出开放系统互连（OSI）参考模型。
## OSI七层
>记忆方式：物联网淑惠试用

|||||
|--|--|--|--|
|用|应用层|7|资源子网|
|试|表示层|6|数据处理|
|惠|会话层|5||
|||||
|淑|传输层|4||
|||||
|网|网络层|3|通信子网|
|链|数据链路层|2|数据通信|
|物|物理层|1||
### 使用协议
|A（打包）|中间系统|B（拆包）|
|--|--|--|
|应用层||应用层|
|表示层||表示层|
|会话层||会话层|
|传输层||传输层|
|网络层|网络层|网络层|
|数据链路层|数据链路层|数据链路层|
|物理层|物理层|物理层|

#### 应用层
>所有能和用户交互产生网络流量的程序
典型的服务：
- 文件传输（FTP）
- 电子邮件（SMTP）
- 万维网（HTTP）
- ...
#### 表示层
>用于处理在两个通信系统中交换信息的表示方式（语法&语义）
功能
1. 数据结构变换
2. 数据加密解密
3. 数据的压缩和恢复
#### 会话层
>向表示层实体实体/用户进程提供**建立连接**并在连接上**有序**地**传输**数据。
>>这是会话，也是**建立同步（SYN）**
功能
1. 建立建立、管理管理、终止会话
2. 使用校验点可使会话在通信失效时从**校验点/同步点**继续恢复通信，实现数据同步。
常用协议：ADSP、ASP
#### 传输层
>负责主机中**两个进程**的通信，即**端到端**的通信。传输单位是报文段或用户数据报。
功能：
1. 可靠传输、不可靠传输
2. 差错控制
3. 流量控制
4. 复用分用<br> 复用：多个应用层进程可同时使用下面传输层的服务。<br>分用：运输层把收到的信息分别交付给上面应用层中响应的进程。
主要协议：
TCP、UDP
#### 网络层
>主要任务是把**分组**从源端传到目的端，为分组交换网上的不同主机提供通信服务。
>>网络层传输单位时**数据报**
功能：
1. 路由选择  **最佳路径**
2. 流量控制  协调AB端速度
3. 差错控制  约定好的规则进行错误校验
4. 拥塞控制  <br>拥塞状态：所有节点都来不及接受分组，而要丢掉大量分组。
主要协议：IP、IPX、ICMP、IGMP、ARP、RARP和OSPF等
#### 数据链路层
>主要的任务把网络层传下来的数据报**组装成帧**
>>数据链路层/链路层的传输单位时帧。
功能：
1. 成帧（定义帧的开始和结束）
2. 差错控制 **帧错+位错**
3. 流量控制
4. 访问（接入控制控制） **控制对信道的访问**
主要协议：SDLC、HDLC、PPP、STP。
#### 物理层
>主要任务是**物理媒体**上实现比特流的**透明传输**。
>>物理层传输单位是**比特**
透明传输：指不管所传数据是什么比特组合，都应该能在链路上传输。
功能：
1. 定义接口特性
2. 定义传输模式 单工、半双工、双工
3. 定义传输速率
4. 比特同步
5. 比特编码
主要协议：Rj45、802.3

## TCP/IP模型
### TCP/IP协议栈
|||||
|--|--|--|--|
|应用层|HTTP|FTP|DNS|
|传输层||TCP|UDP|
|网际层||IP||
|网络接口层|Ethernet|ATM|Frame Relay|
### OSI模型与TCP/IP参考模型比较
#### 相同点
1. 都分层
2. 基于独立的协议栈道概念
3. 可以实现异构网络互联
#### 不同点
1. OSI定义三点：服务、协议、接口
2. OSI先出现，参考模型先于协议发明，不偏向特定协议
3. TCP/IP设计之初就考虑到异构网互联问题，将IP作为重要层次
4. 无连接不需要这些阶段 直接数据传输<br>面向连接：
   1. 建立连接
   2. 开始传输
   3. 释放连接
  
||||
|--|--|--|
||ISO/OSI参考模型|TCP/IP模型|
|网络层|无连接+面向连接|无连接|
|传输层|面向连接|无连接+面向连接|

## 五层参考模型（综合了OSI和TCP/IP的优点）
||||
|--|--|--|
|报文|应用层|支持各种网络应用应用 FTP、SMTP、HTTP|
|报文段|传输层|进程-进程的数据传输 TCP、UDP|
|数据报|网络层|源主机到目标主机的数据分组路由与转发 IP、ICMP、OSPF等|
|帧|数据链路层|把网络层传下来的数据报组装成帧 Ethernet、PPP|
|比特|物理层|比特传输|

